"use strict";angular.module("amcTopSongApp",["ngCookies","ngResource","ngRoute","spotify"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("amcTopSongApp").controller("MainCtrl",["$scope","Spotify",function(a,b){a.playlistTitle="My Top 10 Songs",a.playlist=[],a.playlistObj={title:a.playlistTitle,songs:a.playlist},a.playlistObjFormatted=JSON.stringify(a.playlistObj,null,"    "),a.addToPlaylist=function(){a.playlist.push(a.inPlaylist),a.playlistObjFormatted=JSON.stringify(a.playlistObj,null,"    ")},a.removeFromPlaylist=function(b){a.playlist.splice(a.playlist.indexOf(b),1)},a.searchArtistFunc=function(){b.search(a.searchArtistInput,"artist").then(function(b){a.searchArtistVal=b,a.showArtists=!0,a.showAlbums=!1,a.showTracks=!1})},a.searchAlbumFunc=function(c){b.search(a.searchAlbumInput,"album").then(function(b){a.searchAlbumVal=b,a.showArtists=!1,a.showAlbums=!0,a.showTracks=!1})},a.searchSongFunc=function(c){b.search(a.searchSongInput,"track").then(function(b){a.searchTrackVal=b,a.showArtists=!1,a.showAlbums=!1,a.showTracks=!0})},a.clearAll=function(b){a.searchArtistInput=null,a.searchAlbumInput=null,a.searchSongInput=null,a.showArtists=!1,a.showAlbums=!1,a.showTracks=!1},a.selectArtist=function(c){b.getArtistTopTracks(c,"US").then(function(b){a.selectedArtist=b,a.showArtists=!0,a.showAlbums=!1,a.showTracks=!0})},a.selectAlbum=function(c){b.getAlbum(c).then(function(b){a.selectedAlbumVal=b,a.showArtists=!1,a.showAlbums=!0,a.showTracks=!0})},a.AddTracktoPlaylist=function(c){b.getTrack(c).then(function(b){a.selectedTrack=b,a.inPlaylist={track:a.selectedTrack.name,artist:a.selectedTrack.artists[0].name,album:a.selectedTrack.album.name,note:"Love this song! Listened to it all of the time on my RV trip!",customImage:"https://www.stitch.net/wp-content/uploads/2014/10/9.jpg",id:a.selectedTrack.id},a.addToPlaylist()})},new Clipboard(".addToClipboard")}]),angular.module("amcTopSongApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="row"> <!-- Search by Artist, Album, Track --> <div class="spacer"> <h4>Search Song by</h4> <div class="col-sm-4"> <div class="row"> <div class="col-sm-8"> <input type="text" name="searchArtist" placeholder="Search Artist" maxlength="40" class="search form-control" ng-model="searchArtistInput" ng-focus="clearAll()" ng-keyup="$event.keyCode == 13 && searchArtistFunc()"> </div> <div class="col-sm-4"><button type="submit" class="btn btn-default" ng-click="searchArtistFunc()">Search</button></div> </div> </div> <div class="col-sm-4"> <div class="row"> <div class="col-sm-8"><input type="text" name="searchAlbum" placeholder="Search Album" maxlength="40" class="search form-control" ng-model="searchAlbumInput" ng-focus="clearAll()" ng-keyup="$event.keyCode == 13 && searchAlbumFunc()"></div> <div class="col-sm-4"><button type="submit" class="btn btn-default" ng-click="searchAlbumFunc()">Search</button></div> </div> </div> <div class="col-sm-4"> <div class="row"> <div class="col-sm-8"><input type="text" name="searchSong" placeholder="Search Song" maxlength="40" class="search form-control" ng-model="searchSongInput" ng-focus="clearAll()" ng-keyup="$event.keyCode == 13 && searchSongFunc()"></div> <div class="col-sm-4"><button type="submit" class="btn btn-default" ng-click="searchSongFunc()">Search</button></div> </div> </div> </div> <!-- Search Results Artist --> <div class="col-sm-6 scroller" ng-show="showArtists"> <h5>Artists</h5> <div class="selectItem" ng-repeat="Artists in searchArtistVal.artists.items" ng-click="selectArtist(Artists.id)"> <div class="col-sm-10">{{Artists.name}}</div> </div> </div> <!-- Search Results Album --> <div class="col-sm-6 scroller" ng-show="showAlbums"> <h5>Albums</h5> <div class="selectItem" ng-repeat="Albums in searchAlbumVal.albums.items" ng-click="selectAlbum(Albums.id)"> <div class="col-sm-10">{{Albums.name}}</div> </div> </div> <!-- Search Results Track --> <div class="col-sm-6 scroller" ng-show="showTracks"> <h5>Tracks</h5> <div ng-repeat="Track in selectedArtist.tracks"> <div class="col-sm-8">{{Track.name}}</div> <div class="col-sm-4"> <button type="button" class="btn btn-success btn-sm" ng-click="AddTracktoPlaylist(Track.id)">Add Track to playlist</button> </div> </div> <div ng-repeat="Track in searchTrackVal.tracks.items"> <div class="col-sm-8">{{Track.name}}</div> <div class="col-sm-4"> <button type="button" class="btn btn-success btn-sm" ng-click="AddTracktoPlaylist(Track.id)">Add Track to playlist</button> </div> </div> <div ng-repeat="Track in selectedAlbumVal.tracks.items"> <div class="col-sm-8">{{Track.name}}</div> <div class="col-sm-4"> <button type="button" class="btn btn-success btn-sm" ng-click="AddTracktoPlaylist(Track.id)">Add Track to playlist</button> </div> </div> </div> <!-- Play list  --> <div class="row"> <div class="col-sm-12"> <h4>{{playlistTitle}}</h4> <div ng-repeat="Tracks in playlist"> <div class="row"> <div class="col-sm-2">{{Tracks.track}}</div> <div class="col-sm-2">{{Tracks.artist}}</div> <div class="col-sm-2">{{Tracks.album}}</div> <div class="col-sm-4">{{Tracks.note}}</div> <div class="col-sm-2"><button type="button" class="btn btn-danger" ng-click="removeFromPlaylist(Tracks)">Remove</button></div> </div> </div> </div> </div> <h4>Exported JSON Format</h4> <pre>{{playlistObjFormatted}}</pre> <!-- </div> --> </div>')}]);